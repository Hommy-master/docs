# ADD_EFFECTS API æ¥å£æ–‡æ¡£

## ğŸ“‹ ç›®å½•

- [ğŸ”§ æ¥å£æ¦‚è¿°](#-æ¥å£æ¦‚è¿°)
- [ğŸ“– æ›´å¤šæ–‡æ¡£](#-æ›´å¤šæ–‡æ¡£)
- [ğŸ”§ æ¥å£ä¿¡æ¯](#-æ¥å£ä¿¡æ¯)
- [ğŸ“¥ è¯·æ±‚å‚æ•°](#-è¯·æ±‚å‚æ•°)
- [ğŸ“¤ å“åº”æ ¼å¼](#-å“åº”æ ¼å¼)
- [ğŸ’» ä½¿ç”¨ç¤ºä¾‹](#-ä½¿ç”¨ç¤ºä¾‹)
- [âŒ é”™è¯¯ç è¯´æ˜](#-é”™è¯¯ç è¯´æ˜)
- [ğŸ“– ä½¿ç”¨è¯´æ˜](#-ä½¿ç”¨è¯´æ˜)
- [âš ï¸ æ³¨æ„äº‹é¡¹](#ï¸-æ³¨æ„äº‹é¡¹)
- [ğŸ”— ç›¸å…³æ¥å£](#-ç›¸å…³æ¥å£)

## ğŸ”§ æ¥å£æ¦‚è¿°
å‘ç°æœ‰å‰ªæ˜ è‰ç¨¿ä¸­æ·»åŠ è§†é¢‘ç‰¹æ•ˆè½¨é“å’Œç‰¹æ•ˆç‰‡æ®µã€‚æ”¯æŒæ‰¹é‡æ·»åŠ å¤šç§è§†é¢‘ç‰¹æ•ˆï¼ŒåŒ…æ‹¬è¾¹æ¡†ç‰¹æ•ˆã€æ»¤é•œç‰¹æ•ˆã€åŠ¨æ€ç‰¹æ•ˆç­‰ï¼Œä¸ºè§†é¢‘å†…å®¹å¢åŠ ä¸°å¯Œçš„è§†è§‰æ•ˆæœã€‚

## æ›´å¤šæ–‡æ¡£

ğŸ“– æ›´å¤šè¯¦ç»†æ–‡æ¡£å’Œæ•™ç¨‹è¯·è®¿é—®ï¼š[https://docs.jcaigc.cn](https://docs.jcaigc.cn)

## æ¥å£ä¿¡æ¯
- **è¯·æ±‚æ–¹å¼**: POST
- **æ¥å£è·¯å¾„**: `/openapi/capcut-mate/v1/add_effects`
- **Content-Type**: `application/json`

## è¯·æ±‚å‚æ•°

### è¯·æ±‚ä½“ (Body)

| å‚æ•°å | ç±»å‹ | å¿…å¡« | é»˜è®¤å€¼ | æè¿° |
|--------|------|------|--------|------|
| draft_url | string | æ˜¯ | "" | ç›®æ ‡è‰ç¨¿çš„å®Œæ•´URL |
| effect_infos | string | æ˜¯ | "" | JSONå­—ç¬¦ä¸²æ ¼å¼çš„ç‰¹æ•ˆä¿¡æ¯æ•°ç»„ |

#### effect_infos å­—æ®µæ ¼å¼

`effect_infos` æ˜¯ä¸€ä¸ªJSONå­—ç¬¦ä¸²ï¼ŒåŒ…å«ç‰¹æ•ˆä¿¡æ¯æ•°ç»„ï¼Œæ¯ä¸ªç‰¹æ•ˆå¯¹è±¡åŒ…å«ä»¥ä¸‹å­—æ®µï¼š

```json
[
    {
        "effect_title": "å½•åˆ¶è¾¹æ¡† III",  // ç‰¹æ•ˆåç§°/æ ‡é¢˜ï¼Œå¿…é€‰å‚æ•°
        "start": 0,                     // ç‰¹æ•ˆå¼€å§‹æ—¶é—´ï¼ˆå¾®ç§’ï¼‰ï¼Œå¿…é€‰å‚æ•°  
        "end": 5000000                  // ç‰¹æ•ˆç»“æŸæ—¶é—´ï¼ˆå¾®ç§’ï¼‰ï¼Œå¿…é€‰å‚æ•°
    }
]
```

**å­—æ®µè¯´æ˜**:
- `effect_title`: ç‰¹æ•ˆåç§°ï¼Œå¿…é¡»æ˜¯ç³»ç»Ÿä¸­å·²å­˜åœ¨çš„ç‰¹æ•ˆåç§°
- `start`: ç‰¹æ•ˆå¼€å§‹æ—¶é—´ï¼Œå•ä½ä¸ºå¾®ç§’ï¼Œå¿…é¡»å¤§äºç­‰äº0
- `end`: ç‰¹æ•ˆç»“æŸæ—¶é—´ï¼Œå•ä½ä¸ºå¾®ç§’ï¼Œå¿…é¡»å¤§äºstart

### å¸¸è§ç‰¹æ•ˆåç§°

| ç‰¹æ•ˆç±»å‹ | ç‰¹æ•ˆåç§°ç¤ºä¾‹ |
|----------|--------------|
| è¾¹æ¡†ç‰¹æ•ˆ | "å½•åˆ¶è¾¹æ¡† III", "ç®€çº¦è¾¹æ¡†", "éœ“è™¹è¾¹æ¡†" |
| æ»¤é•œç‰¹æ•ˆ | "å¤å¤æ»¤é•œ", "é»‘ç™½æ»¤é•œ", "æš–è‰²è°ƒ" |
| åŠ¨æ€ç‰¹æ•ˆ | "ç²’å­æ•ˆæœ", "å…‰æ™•æ•ˆæœ", "é—ªçƒç‰¹æ•ˆ" |
| è½¬åœºç‰¹æ•ˆ | "æ·¡å…¥æ·¡å‡º", "æ¨æ‹‰é—¨", "é©¬èµ›å…‹è½¬åœº" |

## è¯·æ±‚ç¤ºä¾‹

```bash
curl -X POST "https://capcut-mate.jcaigc.cn/openapi/capcut-mate/v1/add_effects" \
-H "Content-Type: application/json" \
-d '{
  "draft_url": "https://capcut-mate.jcaigc.cn/openapi/capcut-mate/v1/get_draft?draft_id=2025092811473036584258",
  "effect_infos": "[{\"effect_title\": \"å½•åˆ¶è¾¹æ¡† III\", \"start\": 0, \"end\": 5000000}, {\"effect_title\": \"å¤å¤æ»¤é•œ\", \"start\": 2000000, \"end\": 7000000}]"
}'
```

## å“åº”æ ¼å¼

### æˆåŠŸå“åº”

```json
{
  "code": 0,
  "message": "Success",
  "data": {
    "draft_url": "https://capcut-mate.jcaigc.cn/openapi/capcut-mate/v1/get_draft?draft_id=2025092811473036584258",
    "track_id": "effect_track_123",
    "effect_ids": ["effect_001", "effect_002"],
    "segment_ids": ["seg_001", "seg_002"]
  }
}
```

**å“åº”å­—æ®µè¯´æ˜**:
- `draft_url`: è‰ç¨¿URL
- `track_id`: åˆ›å»ºçš„ç‰¹æ•ˆè½¨é“ID
- `effect_ids`: æ·»åŠ çš„ç‰¹æ•ˆIDåˆ—è¡¨
- `segment_ids`: åˆ›å»ºçš„ç‰¹æ•ˆç‰‡æ®µIDåˆ—è¡¨

### é”™è¯¯å“åº”

```json
{
  "code": 2020,
  "message": "æ— æ•ˆçš„ç‰¹æ•ˆä¿¡æ¯ï¼Œè¯·æ£€æŸ¥effect_infoså­—æ®µå€¼æ˜¯å¦æ­£ç¡®"
}
```

## é”™è¯¯ç è¯´æ˜

| é”™è¯¯ç  | é”™è¯¯ä¿¡æ¯ | æè¿° |
|--------|----------|------|
| 2001 | æ— æ•ˆçš„è‰ç¨¿URL | è‰ç¨¿URLæ ¼å¼é”™è¯¯æˆ–è‰ç¨¿ä¸å­˜åœ¨ |
| 2020 | æ— æ•ˆçš„ç‰¹æ•ˆä¿¡æ¯ | effect_infosæ ¼å¼é”™è¯¯æˆ–å­—æ®µå€¼æ— æ•ˆ |
| 2021 | ç‰¹æ•ˆæ·»åŠ å¤±è´¥ | æ·»åŠ ç‰¹æ•ˆè¿‡ç¨‹ä¸­å‘ç”Ÿé”™è¯¯ |
| 2022 | ç‰¹æ•ˆæœªæ‰¾åˆ° | æŒ‡å®šçš„ç‰¹æ•ˆåç§°ä¸å­˜åœ¨ |

## ä½¿ç”¨è¯´æ˜

1. **æ—¶é—´å•ä½**: æ‰€æœ‰æ—¶é—´å‚æ•°ä½¿ç”¨å¾®ç§’ï¼ˆÎ¼sï¼‰ä¸ºå•ä½ï¼Œ1ç§’ = 1,000,000å¾®ç§’
2. **æ—¶é—´èŒƒå›´**: ç¡®ä¿ `start < end`ï¼Œä¸”æ—¶é—´èŒƒå›´åˆç†
3. **ç‰¹æ•ˆåç§°**: ç‰¹æ•ˆåç§°å¿…é¡»å®Œå…¨åŒ¹é…ç³»ç»Ÿä¸­é¢„å®šä¹‰çš„ç‰¹æ•ˆåç§°ï¼ŒåŒºåˆ†å¤§å°å†™
4. **æ‰¹é‡æ·»åŠ **: æ”¯æŒä¸€æ¬¡æ·»åŠ å¤šä¸ªç‰¹æ•ˆï¼ŒæŒ‰æ•°ç»„é¡ºåºä¾æ¬¡å¤„ç†
5. **è½¨é“ç®¡ç†**: ç³»ç»Ÿä¼šè‡ªåŠ¨åˆ›å»ºç‰¹æ•ˆè½¨é“ï¼Œæ— éœ€æ‰‹åŠ¨ç®¡ç†

## æ³¨æ„äº‹é¡¹

- ç‰¹æ•ˆä¼šæŒ‰ç…§æŒ‡å®šçš„æ—¶é—´èŒƒå›´æ·»åŠ åˆ°è§†é¢‘ä¸­
- å¦‚æœç‰¹æ•ˆåç§°ä¸å­˜åœ¨ï¼Œä¼šè¿”å›ç‰¹æ•ˆæœªæ‰¾åˆ°é”™è¯¯
- ç‰¹æ•ˆçš„æ—¶é—´èŒƒå›´ä¸èƒ½è¶…å‡ºè§†é¢‘æ€»æ—¶é•¿
- å»ºè®®åœ¨æ·»åŠ ç‰¹æ•ˆå‰ç¡®ä¿è‰ç¨¿ä¸­å·²æœ‰è§†é¢‘å†…å®¹
- ç‰¹æ•ˆæ•ˆæœå¯èƒ½å› ç‰ˆæœ¬å·®å¼‚è€Œæœ‰æ‰€ä¸åŒ

## ç›¸å…³æ¥å£

- [åˆ›å»ºè‰ç¨¿](./create_draft.md) - åˆ›å»ºæ–°çš„å‰ªæ˜ è‰ç¨¿
- [æ·»åŠ è§†é¢‘](./add_videos.md) - å‘è‰ç¨¿æ·»åŠ è§†é¢‘å†…å®¹
- [ä¿å­˜è‰ç¨¿](./save_draft.md) - ä¿å­˜è‰ç¨¿æ›´æ”¹

---

<div align="right">

ğŸ“š **é¡¹ç›®èµ„æº**  
**GitHub**: [https://github.com/Hommy-master/capcut-mate](https://github.com/Hommy-master/capcut-mate)  
**Gitee**: [https://gitee.com/taohongmin-gitee/capcut-mate](https://gitee.com/taohongmin-gitee/capcut-mate)

</div>