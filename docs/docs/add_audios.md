# ADD_AUDIOS API æ¥å£æ–‡æ¡£

## æ¥å£ä¿¡æ¯

```
POST /openapi/capcut-mate/v1/add_audios
```

## åŠŸèƒ½æè¿°

æ‰¹é‡å‘ç°æœ‰è‰ç¨¿ä¸­æ·»åŠ éŸ³é¢‘ç´ æã€‚è¯¥æ¥å£æ”¯æŒæ·»åŠ å¤šä¸ªéŸ³é¢‘æ–‡ä»¶åˆ°å‰ªæ˜ è‰ç¨¿ï¼Œä¸ºè§†é¢‘åˆ›å»ºèƒŒæ™¯éŸ³ä¹ã€éŸ³æ•ˆã€æ—ç™½ç­‰éŸ³é¢‘å†…å®¹ã€‚éŸ³é¢‘å°†è¢«æ·»åŠ åˆ°ç‹¬ç«‹çš„éŸ³é¢‘è½¨é“ä¸­ï¼Œä¸ä¼šå½±å“è§†é¢‘å†…å®¹ã€‚

## æ›´å¤šæ–‡æ¡£

ğŸ“– æ›´å¤šè¯¦ç»†æ–‡æ¡£å’Œæ•™ç¨‹è¯·è®¿é—®ï¼š[https://docs.jcaigc.cn](https://docs.jcaigc.cn)

## è¯·æ±‚å‚æ•°

```json
{
  "draft_url": "https://capcut-mate.jcaigc.cn/openapi/capcut-mate/v1/get_draft?draft_id=2025092811473036584258",
  "audio_infos": "[{\"audio_url\":\"https://assets.jcaigc.cn/audio1.mp3\",\"start\":0,\"end\":5000000,\"duration\":10000000,\"volume\":1.0,\"audio_effect\":\"reverb\"}]"
}
```

### å‚æ•°è¯´æ˜

| å‚æ•°å | ç±»å‹ | å¿…å¡« | é»˜è®¤å€¼ | è¯´æ˜ |
|--------|------|------|--------|------|
| draft_url | string | âœ… | - | ç›®æ ‡è‰ç¨¿çš„å®Œæ•´URL |
| audio_infos | string | âœ… | - | éŸ³é¢‘ä¿¡æ¯æ•°ç»„çš„JSONå­—ç¬¦ä¸² |

### audio_infos æ•°ç»„ç»“æ„

audio_infosæ˜¯ä¸€ä¸ªJSONå­—ç¬¦ä¸²ï¼Œè§£æåä¸ºæ•°ç»„ï¼Œæ¯ä¸ªå…ƒç´ åŒ…å«ä»¥ä¸‹å­—æ®µï¼š

| å­—æ®µå | ç±»å‹ | å¿…å¡« | é»˜è®¤å€¼ | è¯´æ˜ |
|--------|------|------|--------|------|
| audio_url | string | âœ… | - | éŸ³é¢‘æ–‡ä»¶çš„URLåœ°å€ |
| start | number | âœ… | - | éŸ³é¢‘å¼€å§‹æ’­æ”¾æ—¶é—´(å¾®ç§’) |
| end | number | âœ… | - | éŸ³é¢‘ç»“æŸæ’­æ”¾æ—¶é—´(å¾®ç§’) |
| duration | number | âœ… | - | éŸ³é¢‘æ€»æ—¶é•¿(å¾®ç§’) |
| volume | number | âŒ | 1.0 | éŸ³é‡å¤§å°(0.0-2.0) |
| audio_effect | string | âŒ | None | éŸ³é¢‘æ•ˆæœåç§° |

### å‚æ•°è¯¦è§£

#### æ—¶é—´å‚æ•°

- **start**: éŸ³é¢‘åœ¨æ—¶é—´è½´ä¸Šçš„å¼€å§‹æ—¶é—´ï¼Œå•ä½ä¸ºå¾®ç§’ï¼ˆ1ç§’ = 1,000,000å¾®ç§’ï¼‰
- **end**: éŸ³é¢‘åœ¨æ—¶é—´è½´ä¸Šçš„ç»“æŸæ—¶é—´ï¼Œå•ä½ä¸ºå¾®ç§’
- **duration**: éŸ³é¢‘æ–‡ä»¶çš„æ€»æ—¶é•¿ï¼Œç”¨äºç´ æåˆ›å»ºï¼Œå•ä½ä¸ºå¾®ç§’
- **æ’­æ”¾æ—¶é•¿**: å®é™…æ’­æ”¾æ—¶é•¿ = end - start

#### éŸ³é‡æ§åˆ¶

- **volume**: éŸ³é¢‘éŸ³é‡å¤§å°
  - 1.0 = åŸå§‹éŸ³é‡
  - 0.5 = ä¸€åŠéŸ³é‡
  - 0.0 = é™éŸ³
  - èŒƒå›´ï¼š0.0 - 2.0

#### éŸ³é¢‘æ•ˆæœ

- **audio_effect**: éŸ³é¢‘æ•ˆæœåç§°
  - None = æ— éŸ³é¢‘æ•ˆæœ
  - ç¤ºä¾‹ï¼š`"reverb"`ï¼ˆæ··å“æ•ˆæœï¼‰

## å“åº”æ ¼å¼

### æˆåŠŸå“åº” (200)

```json
{
  "draft_url": "https://capcut-mate.jcaigc.cn/openapi/capcut-mate/v1/get_draft?draft_id=2025092811473036584258",
  "track_id": "audio-track-uuid",
  "audio_ids": ["audio1-uuid", "audio2-uuid", "audio3-uuid"]
}
```

### å“åº”å­—æ®µè¯´æ˜

| å­—æ®µå | ç±»å‹ | è¯´æ˜ |
|--------|------|------|
| draft_url | string | æ›´æ–°åçš„è‰ç¨¿URL |
| track_id | string | éŸ³é¢‘è½¨é“ID |
| audio_ids | array | æ·»åŠ çš„éŸ³é¢‘IDåˆ—è¡¨ |

### é”™è¯¯å“åº” (4xx/5xx)

```json
{
  "detail": "é”™è¯¯ä¿¡æ¯æè¿°"
}
```

## ä½¿ç”¨ç¤ºä¾‹

### cURL ç¤ºä¾‹

#### 1. åŸºæœ¬éŸ³é¢‘æ·»åŠ 

```bash
curl -X POST https://capcut-mate.jcaigc.cn/openapi/capcut-mate/v1/add_audios \
  -H "Content-Type: application/json" \
  -d '{
    "draft_url": "YOUR_DRAFT_URL",
    "audio_infos": "[{\"audio_url\":\"https://assets.jcaigc.cn/bgm.mp3\",\"start\":0,\"end\":10000000,\"duration\":15000000,\"volume\":0.8}]"
  }'
```

#### 2. å¤šéŸ³é¢‘æ‰¹é‡æ·»åŠ 

```bash
curl -X POST https://capcut-mate.jcaigc.cn/openapi/capcut-mate/v1/add_audios \
  -H "Content-Type: application/json" \
  -d '{
    "draft_url": "YOUR_DRAFT_URL",
    "audio_infos": "[{\"audio_url\":\"https://assets.jcaigc.cn/intro.mp3\",\"start\":0,\"end\":3000000,\"duration\":5000000,\"volume\":1.0},{\"audio_url\":\"https://assets.jcaigc.cn/bgm.mp3\",\"start\":3000000,\"end\":30000000,\"duration\":35000000,\"volume\":0.6}]"
  }'
```

#### 3. å¸¦æ·¡å…¥æ·¡å‡ºæ•ˆæœçš„éŸ³é¢‘

```bash
curl -X POST https://capcut-mate.jcaigc.cn/openapi/capcut-mate/v1/add_audios \
  -H "Content-Type: application/json" \
  -d '{
    "draft_url": "YOUR_DRAFT_URL",
    "audio_infos": "[{\"audio_url\":\"https://assets.jcaigc.cn/outro.mp3\",\"start\":25000000,\"end\":30000000,\"duration\":8000000,\"volume\":0.9,\"audio_effect\":\"reverb\"}]"
  }'
```

## é”™è¯¯ç è¯´æ˜

| é”™è¯¯ç  | é”™è¯¯ä¿¡æ¯ | è¯´æ˜ | è§£å†³æ–¹æ¡ˆ |
|--------|----------|------|----------|
| 400 | draft_urlæ˜¯å¿…å¡«é¡¹ | ç¼ºå°‘è‰ç¨¿URLå‚æ•° | æä¾›æœ‰æ•ˆçš„è‰ç¨¿URL |
| 400 | audio_infosæ˜¯å¿…å¡«é¡¹ | ç¼ºå°‘éŸ³é¢‘ä¿¡æ¯å‚æ•° | æä¾›æœ‰æ•ˆçš„éŸ³é¢‘ä¿¡æ¯JSON |
| 400 | audio_infosæ ¼å¼é”™è¯¯ | JSONæ ¼å¼ä¸æ­£ç¡® | æ£€æŸ¥JSONå­—ç¬¦ä¸²æ ¼å¼ |
| 400 | éŸ³é¢‘é…ç½®éªŒè¯å¤±è´¥ | éŸ³é¢‘å‚æ•°ä¸ç¬¦åˆè¦æ±‚ | æ£€æŸ¥æ¯ä¸ªéŸ³é¢‘çš„å‚æ•° |
| 400 | audio_urlæ˜¯å¿…å¡«é¡¹ | éŸ³é¢‘URLç¼ºå¤± | ä¸ºæ¯ä¸ªéŸ³é¢‘æä¾›URL |
| 400 | æ—¶é—´èŒƒå›´æ— æ•ˆ | endå¿…é¡»å¤§äºstart | ç¡®ä¿ç»“æŸæ—¶é—´å¤§äºå¼€å§‹æ—¶é—´ |
| 400 | éŸ³é‡å€¼æ— æ•ˆ | volumeä¸åœ¨0.0-2.0èŒƒå›´å†… | ä½¿ç”¨0.0-2.0ä¹‹é—´çš„éŸ³é‡å€¼ |
| 404 | è‰ç¨¿ä¸å­˜åœ¨ | æŒ‡å®šçš„è‰ç¨¿URLæ— æ•ˆ | æ£€æŸ¥è‰ç¨¿URLæ˜¯å¦æ­£ç¡® |
| 404 | éŸ³é¢‘èµ„æºä¸å­˜åœ¨ | éŸ³é¢‘URLæ— æ³•è®¿é—® | æ£€æŸ¥éŸ³é¢‘URLæ˜¯å¦å¯è®¿é—® |
| 500 | éŸ³é¢‘å¤„ç†å¤±è´¥ | å†…éƒ¨å¤„ç†é”™è¯¯ | è”ç³»æŠ€æœ¯æ”¯æŒ |

## æ³¨æ„äº‹é¡¹

1. **JSONæ ¼å¼**: audio_infoså¿…é¡»æ˜¯åˆæ³•çš„JSONå­—ç¬¦ä¸²
2. **æ—¶é—´å•ä½**: æ‰€æœ‰æ—¶é—´å‚æ•°ä½¿ç”¨å¾®ç§’ï¼ˆ1ç§’ = 1,000,000å¾®ç§’ï¼‰
3. **éŸ³é¢‘æ ¼å¼**: ç¡®ä¿éŸ³é¢‘æ–‡ä»¶æ ¼å¼è¢«æ”¯æŒï¼ˆå¦‚MP3ã€WAVã€AACç­‰ï¼‰
4. **æ–‡ä»¶å¤§å°**: å¤§éŸ³é¢‘æ–‡ä»¶å¯èƒ½å½±å“å¤„ç†é€Ÿåº¦
5. **ç½‘ç»œè®¿é—®**: éŸ³é¢‘URLå¿…é¡»å¯ä»¥æ­£å¸¸è®¿é—®
6. **éŸ³é‡èŒƒå›´**: éŸ³é‡å€¼å¿…é¡»åœ¨0.0-2.0èŒƒå›´å†…
7. **è½¨é“é™åˆ¶**: åŒä¸€æ—¶é—´æ®µå¯èƒ½å­˜åœ¨éŸ³é¢‘é‡å 

## å·¥ä½œæµç¨‹

1. éªŒè¯å¿…å¡«å‚æ•°ï¼ˆdraft_url, audio_infosï¼‰
2. è§£æaudio_infos JSONå­—ç¬¦ä¸²
3. éªŒè¯æ¯ä¸ªéŸ³é¢‘çš„å‚æ•°é…ç½®
4. è·å–å¹¶è§£å¯†è‰ç¨¿å†…å®¹
5. åˆ›å»ºéŸ³é¢‘è½¨é“
6. æ·»åŠ éŸ³é¢‘ç‰‡æ®µåˆ°è½¨é“
7. åº”ç”¨éŸ³é‡å’ŒéŸ³é¢‘æ•ˆæœ
8. ä¿å­˜å¹¶åŠ å¯†è‰ç¨¿
9. è¿”å›å¤„ç†ç»“æœ

## ç›¸å…³æ¥å£

- [åˆ›å»ºè‰ç¨¿](./create_draft.md)
- [æ·»åŠ è§†é¢‘](./add_videos.md)
- [æ·»åŠ å›¾ç‰‡](./add_images.md)
- [ä¿å­˜è‰ç¨¿](./save_draft.md)
- [ç”Ÿæˆè§†é¢‘](./gen_video.md)

---

<div align="right">

ğŸ“š **é¡¹ç›®èµ„æº**  
**GitHub**: [https://github.com/Hommy-master/capcut-mate](https://github.com/Hommy-master/capcut-mate)  
**Gitee**: [https://gitee.com/taohongmin-gitee/capcut-mate](https://gitee.com/taohongmin-gitee/capcut-mate)

</div>